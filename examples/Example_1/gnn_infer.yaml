# CommonFramework parameters
stage: GNN
model: InteractionGNN
input_dir: /global/cfs/cdirs/m3443/data/GNN4ITK/CommonFrameworkExamples/Example_1_Dev/module_map/ # Should contain the files used in training and inference
stage_dir: /global/cfs/cdirs/m3443/data/GNN4ITK/CommonFrameworkExamples/Example_1_Dev/gnn/ # A directory to be created that will store logs, artifacts, and output data
project: CF_Example_1_GNN # Used in logging
gpus: 1
nodes: 1

# Dataset parameters
data_split: [10, 10, 10] # Number of [training, validation, testing] examples

# Truth and weighting parameters. Syntax is...
# Single value: track[key] == value
# List of length 2: value1 <= track[key] <= value2
# Tuple of length 2: First value defines the boolean test, the second value is a list or value. Boolean tests are: (in, not_in, is, is_not, within, not_within)
# All other tracks follow the default: If a true edge, weight=0. If a fake edge, weight=1.
weighting:
  - weight: 5
    conditions:
      pt: [1000, inf]
      nhits: [3, inf]
      primary: True
      pdg_id: (not_in, [11, -11])

# Model parameters
edge_cut: 0.5
spatial_channels: 3
cell_channels: 0
hidden: 128
n_graph_iters: 8
nb_node_layer: 2
nb_edge_layer: 2
emb_channels: 0
layernorm: True
batchnorm: False
aggregation: sum
hidden_activation: SiLU
output_activation: Tanh

# Training parameters
warmup: 5
lr: 0.001
factor: 0.9
train_purity: 0
patience: 15
max_epochs: 200